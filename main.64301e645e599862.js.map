{"version":3,"file":"main.64301e645e599862.js","mappings":"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","sources":["./src/app/app.component.ts","./src/app/app.module.ts","./src/app/examples/example-types.ts","./src/app/examples/examples.routes.ts","./src/app/ui/components/exampleTitle.component.ts","./src/app/ui/components/topbar.component.ts","./src/app/ui/ui.module.ts","./src/main.ts","webpack:///./src/app/ui/components/topbar.component.ts?c19c","webpack:///./src/app/app.component.ts?349b","webpack:///./src/app/ui/components/exampleTitle.component.ts?a9e8","./projects/angular-split/src/lib/utils.ts","./projects/angular-split/src/lib/angular-split-config.token.ts","./projects/angular-split/src/lib/component/split.component.ts","./projects/angular-split/src/lib/directive/split-area.directive.ts","./projects/angular-split/src/lib/module.ts","./projects/angular-split/src/public_api.ts","./projects/angular-split/src/angular-split.ts"],"sourcesContent":["import { Component } from '@angular/core'\nimport { Router, NavigationEnd } from '@angular/router'\nimport { filter } from 'rxjs/operators'\n\n@Component({\n  selector: 'sp-app-root',\n  styles: [\n    `\n      :host {\n        display: block;\n        width: 100%;\n        height: 100%;\n      }\n      :host > div {\n        padding-top: 54px;\n        width: 100%;\n        height: 100%;\n      }\n    `,\n  ],\n  template: `\n    <sp-topbar></sp-topbar>\n    <div>\n      <router-outlet></router-outlet>\n    </div>\n  `,\n})\nexport class AppComponent {\n  constructor(public router: Router) {\n    this.router.events.pipe(filter((e) => e instanceof NavigationEnd)).subscribe((event) => {\n      window.scrollTo(0, 0)\n    })\n  }\n}\n","import { HttpClientModule } from '@angular/common/http'\nimport { NgModule } from '@angular/core'\nimport { FormsModule } from '@angular/forms'\nimport { BrowserModule } from '@angular/platform-browser'\nimport { BrowserAnimationsModule } from '@angular/platform-browser/animations'\nimport { RouterModule, Routes } from '@angular/router'\nimport { AppComponent } from './app.component'\nimport { UiModule } from './ui/ui.module'\n\nconst routes: Routes = [\n  { path: '', loadChildren: () => import('./home/home.module').then((m) => m.HomeModule) },\n  { path: 'changelog', loadChildren: () => import('./changelog/changelog.module').then((m) => m.ChangelogModule) },\n  {\n    path: 'documentation',\n    loadChildren: () => import('./documentation/documentation.module').then((m) => m.DocumentationModule),\n  },\n  {\n    path: 'examples',\n    loadChildren: () => import('./examples/examples.module').then((m) => m.ExamplesModule),\n  },\n]\n\n@NgModule({\n  declarations: [AppComponent],\n  imports: [\n    BrowserModule,\n    BrowserAnimationsModule,\n    UiModule,\n    RouterModule.forRoot(routes),\n    HttpClientModule,\n    FormsModule,\n  ],\n  bootstrap: [AppComponent],\n})\nexport class AppModule {}\n","export enum ExampleEnum {\n  CLICK = 'click',\n  CODE = 'code',\n  COLLAPSE = 'collapse',\n  DIR = 'dir',\n  GEEK = 'geek',\n  IFRAME = 'iframe',\n  MINMAX = 'minmax',\n  NESTED = 'nested',\n  SIMPLE = 'simple',\n  STYLE = 'style',\n  SYNC = 'sync',\n  TOGGLE = 'toggle',\n  TRANSITION = 'transition',\n  WORKSPACE = 'workspace',\n  GLOBAL = 'global',\n}\n","import { Routes } from '@angular/router'\n\nimport { ExampleEnum } from './example-types'\n\nconst srcUrlBase = 'https://github.com/angular-split/angular-split/blob/main/'\nconst srcUrlBaseApp = `${srcUrlBase}src/app/examples`\n\nexport const exampleRoutes: Routes = [\n  {\n    data: {\n      type: ExampleEnum.SIMPLE,\n      label: 'Simple split',\n      srcUrl: `${srcUrlBaseApp}/simple-split/simple-split.component.ts`,\n    },\n    path: 'simple-split',\n    loadChildren: () => import('./simple-split/simple-split.module').then((m) => m.SimpleSplitModule),\n  },\n  {\n    data: {\n      type: ExampleEnum.MINMAX,\n      label: 'Split with minSize & maxSize',\n      srcUrl: `${srcUrlBaseApp}/min-max-split/min-max-split.component.ts`,\n    },\n    path: 'min-max-split',\n    loadChildren: () => import('./min-max-split/min-max-split.module').then((m) => m.MinMaxSplitModule),\n  },\n  {\n    data: {\n      type: ExampleEnum.NESTED,\n      label: 'Nested splits',\n      srcUrl: `${srcUrlBaseApp}/nested-split/nested-split.component.ts`,\n    },\n    path: 'nested-split',\n    loadChildren: () => import('./nested-split/nested-split.module').then((m) => m.NestedSplitModule),\n  },\n  {\n    data: {\n      type: ExampleEnum.IFRAME,\n      label: 'Split containing iframes',\n      srcUrl: `${srcUrlBaseApp}/iframes/iframes.component.ts`,\n    },\n    path: 'iframes',\n    loadChildren: () => import('./iframes/iframes.module').then((m) => m.IframesModule),\n  },\n  {\n    data: {\n      type: ExampleEnum.TRANSITION,\n      label: 'Split with transitions',\n      srcUrl: `${srcUrlBaseApp}/split-transitions/split-transitions.component.ts`,\n    },\n    path: 'split-transitions',\n    loadChildren: () => import('./split-transitions/split-transitions.module').then((m) => m.SplitTransitionsModule),\n  },\n  {\n    data: {\n      type: ExampleEnum.SYNC,\n      label: 'Split synchronized',\n      srcUrl: `${srcUrlBaseApp}/sync-split/sync-split.component.ts`,\n    },\n    path: 'sync-split',\n    loadChildren: () => import('./sync-split/sync-split.module').then((m) => m.SyncSplitModule),\n  },\n  {\n    data: {\n      type: ExampleEnum.STYLE,\n      label: 'Split with custom gutter style',\n      srcUrl: `${srcUrlBaseApp}/custom-gutter-style/custom-gutter-style.component.ts`,\n    },\n    path: 'custom-gutter-style',\n    loadChildren: () =>\n      import('./custom-gutter-style/custom-gutter-style.module').then((m) => m.CustomGutterStyleModule),\n  },\n  {\n    data: {\n      type: ExampleEnum.TOGGLE,\n      label: 'Toggling areas using <code>[visible]</code> and <code>*ngIf</code>',\n      srcUrl: `${srcUrlBaseApp}/toggling-dom-and-visibility/toggling-dom-and-visibility.component.ts`,\n    },\n    path: 'toggling-dom-and-visibility',\n    loadChildren: () =>\n      import('./toggling-dom-and-visibility/toggling-dom-and-visibility.module').then(\n        (m) => m.TogglingDomAndVisibilityModule,\n      ),\n  },\n  {\n    data: {\n      type: ExampleEnum.COLLAPSE,\n      label: 'Collapse/Expand a specific area',\n      srcUrl: `${srcUrlBaseApp}/collapse-expand/collapse-expand.component.ts`,\n    },\n    path: 'collapse-expand',\n    loadChildren: () => import('./collapse-expand/collapse-expand.module').then((m) => m.CollapseExpandModule),\n  },\n  {\n    data: {\n      type: ExampleEnum.CLICK,\n      label: 'Roll/unroll area on <code>(gutterClick)</code> event',\n      srcUrl: `${srcUrlBaseApp}/gutter-click-roll-unroll/gutter-click-roll-unroll.component.ts`,\n    },\n    path: 'gutter-click-roll-unroll',\n    loadChildren: () =>\n      import('./gutter-click-roll-unroll/gutter-click-roll-unroll.module').then((m) => m.GutterClickRollUnrollModule),\n  },\n  {\n    data: {\n      type: ExampleEnum.CODE,\n      label: 'Access and interact <code>SplitComponent</code> from TS class',\n      srcUrl: `${srcUrlBaseApp}/access-from-class/access-from-class.component.ts`,\n    },\n    path: 'access-from-class',\n    loadChildren: () => import('./access-from-class/access-from-class.module').then((m) => m.AccessFromClassModule),\n  },\n  {\n    data: {\n      type: ExampleEnum.GEEK,\n      label: 'Geek demo (100% dynamic)',\n      srcUrl: `${srcUrlBaseApp}/geek-demo/geek-demo.component.ts`,\n    },\n    path: 'geek-demo',\n    loadChildren: () => import('./geek-demo/geek-demo.module').then((m) => m.GeekDemoModule),\n  },\n  {\n    data: {\n      type: ExampleEnum.DIR,\n      label: 'Split inside right to left (RTL) page',\n      srcUrl: `${srcUrlBaseApp}/dir-rtl/dir-rtl.component.ts`,\n    },\n    path: 'dir-rtl',\n    loadChildren: () => import('./dir-rtl/dir-rtl.module').then((m) => m.DirRtlModule),\n  },\n  {\n    data: {\n      type: ExampleEnum.WORKSPACE,\n      label: 'Fullscreen workspace saved in localStorage',\n      srcUrl: `${srcUrlBaseApp}/workspace-localstorage/workspace-localstorage.component.ts`,\n    },\n    path: 'workspace-localstorage',\n    loadChildren: () =>\n      import('./workspace-localstorage/workspace-localstorage.module').then((m) => m.WorkspaceLocalstorageModule),\n  },\n  {\n    data: {\n      type: ExampleEnum.GLOBAL,\n      label: 'Split with global settings',\n      srcUrl: `${srcUrlBaseApp}/global-options/global-options.component.ts`,\n    },\n    path: 'global-options',\n    loadChildren: () => import('./global-options/global-options.module').then((m) => m.GlobalOptionsModule),\n  },\n]\n","import { Component, Input } from '@angular/core'\nimport { DomSanitizer, SafeHtml, SafeResourceUrl } from '@angular/platform-browser'\nimport { ExampleEnum } from '../../examples/example-types'\nimport { exampleRoutes } from '../../examples/examples.routes'\n\n@Component({\n  selector: 'sp-example-title',\n  styles: [\n    `\n      h4 {\n        display: flex;\n        align-items: center;\n      }\n      h4 > div {\n        margin-right: 20px;\n      }\n    `,\n  ],\n  template: `\n    <h4>\n      <div [innerHTML]=\"label\"></div>\n      <a class=\"btn btn-secondary\" [href]=\"url\" target=\"_blank\">View code</a>\n    </h4>\n    <hr />\n  `,\n})\nexport class ExampleTitleComponent {\n  exampleEnum = ExampleEnum\n  label: SafeHtml\n  url: SafeResourceUrl\n\n  @Input() set type(v: ExampleEnum) {\n    const ex = exampleRoutes.find((e) => e.data.type === v)\n    if (!ex) {\n      return\n    }\n\n    this.label = this.sanitizer.bypassSecurityTrustHtml(ex.data.label)\n    this.url = this.sanitizer.bypassSecurityTrustResourceUrl(ex.data.srcUrl)\n  }\n\n  constructor(private sanitizer: DomSanitizer) {}\n}\n","import { Component, ChangeDetectionStrategy } from '@angular/core'\nimport { Router, NavigationStart, Routes } from '@angular/router'\nimport { DomSanitizer } from '@angular/platform-browser'\nimport { filter } from 'rxjs/operators'\n\nimport { exampleRoutes } from '../../examples/examples.routes'\n\n@Component({\n  selector: 'sp-topbar',\n  changeDetection: ChangeDetectionStrategy.OnPush,\n  styles: [\n    `\n      :host {\n        /* To override default 'fixed' who prevent scrolling */\n        position: absolute;\n      }\n\n      a.navbar-brand,\n      a.navbar-brand:hover {\n        font-weight: bold;\n        color: #ffc421;\n      }\n\n      li > a {\n        cursor: pointer;\n      }\n\n      ul.dropdown-menu > li > a:active,\n      ul.dropdown-menu > li.active > a {\n        background-color: #eeeeee;\n        cursor: default;\n        color: #000000;\n      }\n\n      .navbar-toggler {\n        float: right;\n        margin-right: 20px;\n      }\n\n      @media (max-width: 992px) {\n        .container-fluid {\n          padding-left: 0;\n        }\n        a.navbar-brand {\n          margin-right: 0;\n        }\n      }\n    `,\n  ],\n  host: {\n    class: 'navbar navbar-expand-lg fixed-top navbar-dark bg-dark',\n  },\n  template: `\n    <button class=\"navbar-toggler hidden-lg-up\" (click)=\"isCollapsed = !isCollapsed\">\n      <span class=\"navbar-toggler-icon\"></span>\n    </button>\n    <span class=\"mr-auto\">\n      <img src=\"/assets/logo.svg\" height=\"28\" class=\"mr-2\" alt=\"\" />\n      <a class=\"navbar-brand\" routerLink=\"/\">angular-split</a>\n    </span>\n    <div class=\"collapse navbar-collapse\" [collapse]=\"isCollapsed\">\n      <ul class=\"nav navbar-nav\">\n        <li class=\"nav-item\" routerLinkActive=\"active\" [routerLinkActiveOptions]=\"{ exact: true }\">\n          <a class=\"nav-link\" routerLink=\"/\">Home</a>\n        </li>\n        <li class=\"nav-item\" routerLinkActive=\"active\">\n          <a class=\"nav-link\" routerLink=\"/changelog\">Changelog</a>\n        </li>\n        <li class=\"nav-item\" routerLinkActive=\"active\">\n          <a class=\"nav-link\" routerLink=\"/documentation\">Documentation</a>\n        </li>\n        <li class=\"nav-item dropdown\" dropdown routerLinkActive=\"active\">\n          <a class=\"nav-link dropdown-toggle\" dropdownToggle>Examples <span class=\"caret\"></span></a>\n          <ul *dropdownMenu class=\"dropdown-menu\" role=\"menu\">\n            <li *ngFor=\"let ex of examples\" routerLinkActive=\"active\">\n              <a\n                class=\"dropdown-item\"\n                [routerLink]=\"['/examples', ex.path]\"\n                [innerHTML]=\"transform(ex?.data?.label)\"\n              ></a>\n            </li>\n          </ul>\n        </li>\n      </ul>\n    </div>\n  `,\n})\nexport class TopbarComponent {\n  examples: Routes\n  isCollapsed = true\n\n  constructor(\n    private readonly sanitizer: DomSanitizer,\n    private readonly router: Router,\n  ) {\n    this.examples = exampleRoutes\n\n    this.router.events.pipe(filter((e) => e instanceof NavigationStart)).subscribe((event) => {\n      this.isCollapsed = true\n    })\n  }\n\n  transform(label: string) {\n    return this.sanitizer.bypassSecurityTrustHtml(label)\n  }\n}\n","import { CommonModule } from '@angular/common'\nimport { NgModule } from '@angular/core'\nimport { RouterModule } from '@angular/router'\nimport { AngularSplitModule } from 'angular-split'\nimport { ButtonsModule } from 'ngx-bootstrap/buttons'\nimport { CollapseModule } from 'ngx-bootstrap/collapse'\nimport { BsDropdownModule } from 'ngx-bootstrap/dropdown'\nimport { SortableModule } from 'ngx-bootstrap/sortable'\nimport { TooltipModule } from 'ngx-bootstrap/tooltip'\nimport { ExampleTitleComponent } from './components/exampleTitle.component'\nimport { TopbarComponent } from './components/topbar.component'\n\n@NgModule({\n  imports: [\n    CommonModule,\n    RouterModule,\n    ButtonsModule.forRoot(),\n    CollapseModule.forRoot(),\n    BsDropdownModule.forRoot(),\n    SortableModule.forRoot(),\n    TooltipModule.forRoot(),\n    AngularSplitModule,\n  ],\n  declarations: [ExampleTitleComponent, TopbarComponent],\n  exports: [ExampleTitleComponent, TopbarComponent, ButtonsModule, SortableModule, TooltipModule],\n})\nexport class UiModule {}\n","import { platformBrowserDynamic } from '@angular/platform-browser-dynamic'\n\nimport { AppModule } from './app/app.module'\n\nplatformBrowserDynamic()\n  .bootstrapModule(AppModule)\n  .catch((err) => console.error(err))\n","// Imports\nvar ___CSS_LOADER_API_SOURCEMAP_IMPORT___ = require(\"../../../../node_modules/css-loader/dist/runtime/sourceMaps.js\");\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../../../node_modules/css-loader/dist/runtime/api.js\");\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, `\n      :host {\n        /* To override default 'fixed' who prevent scrolling */\n        position: absolute;\n      }\n\n      a.navbar-brand,\n      a.navbar-brand:hover {\n        font-weight: bold;\n        color: #ffc421;\n      }\n\n      li > a {\n        cursor: pointer;\n      }\n\n      ul.dropdown-menu > li > a:active,\n      ul.dropdown-menu > li.active > a {\n        background-color: #eeeeee;\n        cursor: default;\n        color: #000000;\n      }\n\n      .navbar-toggler {\n        float: right;\n        margin-right: 20px;\n      }\n\n      @media (max-width: 992px) {\n        .container-fluid {\n          padding-left: 0;\n        }\n        a.navbar-brand {\n          margin-right: 0;\n        }\n      }\n    \n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInRvcGJhci5jb21wb25lbnQudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IjtNQUNNO1FBQ0Usc0RBQXNEO1FBQ3RELGtCQUFrQjtNQUNwQjs7TUFFQTs7UUFFRSxpQkFBaUI7UUFDakIsY0FBYztNQUNoQjs7TUFFQTtRQUNFLGVBQWU7TUFDakI7O01BRUE7O1FBRUUseUJBQXlCO1FBQ3pCLGVBQWU7UUFDZixjQUFjO01BQ2hCOztNQUVBO1FBQ0UsWUFBWTtRQUNaLGtCQUFrQjtNQUNwQjs7TUFFQTtRQUNFO1VBQ0UsZUFBZTtRQUNqQjtRQUNBO1VBQ0UsZUFBZTtRQUNqQjtNQUNGIiwiZmlsZSI6InRvcGJhci5jb21wb25lbnQudHMiLCJzb3VyY2VzQ29udGVudCI6WyJcbiAgICAgIDpob3N0IHtcbiAgICAgICAgLyogVG8gb3ZlcnJpZGUgZGVmYXVsdCAnZml4ZWQnIHdobyBwcmV2ZW50IHNjcm9sbGluZyAqL1xuICAgICAgICBwb3NpdGlvbjogYWJzb2x1dGU7XG4gICAgICB9XG5cbiAgICAgIGEubmF2YmFyLWJyYW5kLFxuICAgICAgYS5uYXZiYXItYnJhbmQ6aG92ZXIge1xuICAgICAgICBmb250LXdlaWdodDogYm9sZDtcbiAgICAgICAgY29sb3I6ICNmZmM0MjE7XG4gICAgICB9XG5cbiAgICAgIGxpID4gYSB7XG4gICAgICAgIGN1cnNvcjogcG9pbnRlcjtcbiAgICAgIH1cblxuICAgICAgdWwuZHJvcGRvd24tbWVudSA+IGxpID4gYTphY3RpdmUsXG4gICAgICB1bC5kcm9wZG93bi1tZW51ID4gbGkuYWN0aXZlID4gYSB7XG4gICAgICAgIGJhY2tncm91bmQtY29sb3I6ICNlZWVlZWU7XG4gICAgICAgIGN1cnNvcjogZGVmYXVsdDtcbiAgICAgICAgY29sb3I6ICMwMDAwMDA7XG4gICAgICB9XG5cbiAgICAgIC5uYXZiYXItdG9nZ2xlciB7XG4gICAgICAgIGZsb2F0OiByaWdodDtcbiAgICAgICAgbWFyZ2luLXJpZ2h0OiAyMHB4O1xuICAgICAgfVxuXG4gICAgICBAbWVkaWEgKG1heC13aWR0aDogOTkycHgpIHtcbiAgICAgICAgLmNvbnRhaW5lci1mbHVpZCB7XG4gICAgICAgICAgcGFkZGluZy1sZWZ0OiAwO1xuICAgICAgICB9XG4gICAgICAgIGEubmF2YmFyLWJyYW5kIHtcbiAgICAgICAgICBtYXJnaW4tcmlnaHQ6IDA7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAiXX0= */`, \"\",{\"version\":3,\"sources\":[\"webpack://./src/app/ui/components/topbar.component.ts\"],\"names\":[],\"mappings\":\";MACM;QACE,sDAAsD;QACtD,kBAAkB;MACpB;;MAEA;;QAEE,iBAAiB;QACjB,cAAc;MAChB;;MAEA;QACE,eAAe;MACjB;;MAEA;;QAEE,yBAAyB;QACzB,eAAe;QACf,cAAc;MAChB;;MAEA;QACE,YAAY;QACZ,kBAAkB;MACpB;;MAEA;QACE;UACE,eAAe;QACjB;QACA;UACE,eAAe;QACjB;MACF;;AAEN,o+CAAo+C\",\"sourcesContent\":[\"\\n      :host {\\n        /* To override default 'fixed' who prevent scrolling */\\n        position: absolute;\\n      }\\n\\n      a.navbar-brand,\\n      a.navbar-brand:hover {\\n        font-weight: bold;\\n        color: #ffc421;\\n      }\\n\\n      li > a {\\n        cursor: pointer;\\n      }\\n\\n      ul.dropdown-menu > li > a:active,\\n      ul.dropdown-menu > li.active > a {\\n        background-color: #eeeeee;\\n        cursor: default;\\n        color: #000000;\\n      }\\n\\n      .navbar-toggler {\\n        float: right;\\n        margin-right: 20px;\\n      }\\n\\n      @media (max-width: 992px) {\\n        .container-fluid {\\n          padding-left: 0;\\n        }\\n        a.navbar-brand {\\n          margin-right: 0;\\n        }\\n      }\\n    \"],\"sourceRoot\":\"\"}]);\n// Exports\nmodule.exports = ___CSS_LOADER_EXPORT___.toString();\n","// Imports\nvar ___CSS_LOADER_API_SOURCEMAP_IMPORT___ = require(\"../../node_modules/css-loader/dist/runtime/sourceMaps.js\");\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../node_modules/css-loader/dist/runtime/api.js\");\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, `\n      :host {\n        display: block;\n        width: 100%;\n        height: 100%;\n      }\n      :host > div {\n        padding-top: 54px;\n        width: 100%;\n        height: 100%;\n      }\n    \n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFwcC5jb21wb25lbnQudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IjtNQUNNO1FBQ0UsY0FBYztRQUNkLFdBQVc7UUFDWCxZQUFZO01BQ2Q7TUFDQTtRQUNFLGlCQUFpQjtRQUNqQixXQUFXO1FBQ1gsWUFBWTtNQUNkIiwiZmlsZSI6ImFwcC5jb21wb25lbnQudHMiLCJzb3VyY2VzQ29udGVudCI6WyJcbiAgICAgIDpob3N0IHtcbiAgICAgICAgZGlzcGxheTogYmxvY2s7XG4gICAgICAgIHdpZHRoOiAxMDAlO1xuICAgICAgICBoZWlnaHQ6IDEwMCU7XG4gICAgICB9XG4gICAgICA6aG9zdCA+IGRpdiB7XG4gICAgICAgIHBhZGRpbmctdG9wOiA1NHB4O1xuICAgICAgICB3aWR0aDogMTAwJTtcbiAgICAgICAgaGVpZ2h0OiAxMDAlO1xuICAgICAgfVxuICAgICJdfQ== */`, \"\",{\"version\":3,\"sources\":[\"webpack://./src/app/app.component.ts\"],\"names\":[],\"mappings\":\";MACM;QACE,cAAc;QACd,WAAW;QACX,YAAY;MACd;MACA;QACE,iBAAiB;QACjB,WAAW;QACX,YAAY;MACd;;AAEN,glBAAglB\",\"sourcesContent\":[\"\\n      :host {\\n        display: block;\\n        width: 100%;\\n        height: 100%;\\n      }\\n      :host > div {\\n        padding-top: 54px;\\n        width: 100%;\\n        height: 100%;\\n      }\\n    \"],\"sourceRoot\":\"\"}]);\n// Exports\nmodule.exports = ___CSS_LOADER_EXPORT___.toString();\n","// Imports\nvar ___CSS_LOADER_API_SOURCEMAP_IMPORT___ = require(\"../../../../node_modules/css-loader/dist/runtime/sourceMaps.js\");\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../../../node_modules/css-loader/dist/runtime/api.js\");\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, `\n      h4 {\n        display: flex;\n        align-items: center;\n      }\n      h4 > div {\n        margin-right: 20px;\n      }\n    \n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImV4YW1wbGVUaXRsZS5jb21wb25lbnQudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IjtNQUNNO1FBQ0UsYUFBYTtRQUNiLG1CQUFtQjtNQUNyQjtNQUNBO1FBQ0Usa0JBQWtCO01BQ3BCIiwiZmlsZSI6ImV4YW1wbGVUaXRsZS5jb21wb25lbnQudHMiLCJzb3VyY2VzQ29udGVudCI6WyJcbiAgICAgIGg0IHtcbiAgICAgICAgZGlzcGxheTogZmxleDtcbiAgICAgICAgYWxpZ24taXRlbXM6IGNlbnRlcjtcbiAgICAgIH1cbiAgICAgIGg0ID4gZGl2IHtcbiAgICAgICAgbWFyZ2luLXJpZ2h0OiAyMHB4O1xuICAgICAgfVxuICAgICJdfQ== */`, \"\",{\"version\":3,\"sources\":[\"webpack://./src/app/ui/components/exampleTitle.component.ts\"],\"names\":[],\"mappings\":\";MACM;QACE,aAAa;QACb,mBAAmB;MACrB;MACA;QACE,kBAAkB;MACpB;;AAEN,4eAA4e\",\"sourcesContent\":[\"\\n      h4 {\\n        display: flex;\\n        align-items: center;\\n      }\\n      h4 > div {\\n        margin-right: 20px;\\n      }\\n    \"],\"sourceRoot\":\"\"}]);\n// Exports\nmodule.exports = ___CSS_LOADER_EXPORT___.toString();\n","import { ElementRef } from '@angular/core'\n\nimport { IArea, IPoint, IAreaSnapshot, ISplitSideAbsorptionCapacity, IAreaAbsorptionCapacity } from './interface'\n\nexport function getPointFromEvent(event: MouseEvent | TouchEvent | KeyboardEvent): IPoint {\n  // TouchEvent\n  if ((<TouchEvent>event).changedTouches !== undefined && (<TouchEvent>event).changedTouches.length > 0) {\n    return {\n      x: (<TouchEvent>event).changedTouches[0].clientX,\n      y: (<TouchEvent>event).changedTouches[0].clientY,\n    }\n  }\n  // MouseEvent\n  else if ((<MouseEvent>event).clientX !== undefined && (<MouseEvent>event).clientY !== undefined) {\n    return {\n      x: (<MouseEvent>event).clientX,\n      y: (<MouseEvent>event).clientY,\n    }\n  }\n  // KeyboardEvent\n  else if ((<KeyboardEvent>event).currentTarget !== undefined) {\n    const gutterEl = event.currentTarget as HTMLElement\n    return {\n      x: gutterEl.offsetLeft,\n      y: gutterEl.offsetTop,\n    }\n  }\n  return null\n}\n\nexport function pointDeltaEquals(lhs: IPoint, rhs: IPoint, deltaPx: number) {\n  return Math.abs(lhs.x - rhs.x) <= deltaPx && Math.abs(lhs.y - rhs.y) <= deltaPx\n}\n\nexport function getKeyboardEndpoint(event: KeyboardEvent, direction: 'horizontal' | 'vertical'): IPoint | null {\n  // Return null if direction keys on the opposite axis were pressed\n  if (direction === 'horizontal') {\n    switch (event.key) {\n      case 'ArrowLeft':\n      case 'ArrowRight':\n      case 'PageUp':\n      case 'PageDown':\n        break\n      default:\n        return null\n    }\n  }\n  if (direction === 'vertical') {\n    switch (event.key) {\n      case 'ArrowUp':\n      case 'ArrowDown':\n      case 'PageUp':\n      case 'PageDown':\n        break\n      default:\n        return null\n    }\n  }\n\n  const gutterEl = event.currentTarget as HTMLElement\n  const offset = event.key === 'PageUp' || event.key === 'PageDown' ? 50 * 10 : 50\n  let offsetX = gutterEl.offsetLeft,\n    offsetY = gutterEl.offsetTop\n  switch (event.key) {\n    case 'ArrowLeft':\n      offsetX -= offset\n      break\n    case 'ArrowRight':\n      offsetX += offset\n      break\n    case 'ArrowUp':\n      offsetY -= offset\n      break\n    case 'ArrowDown':\n      offsetY += offset\n      break\n    case 'PageUp':\n      if (direction === 'vertical') {\n        offsetY -= offset\n      } else {\n        offsetX += offset\n      }\n      break\n    case 'PageDown':\n      if (direction === 'vertical') {\n        offsetY += offset\n      } else {\n        offsetX -= offset\n      }\n      break\n    default:\n      return null\n  }\n\n  return {\n    x: offsetX,\n    y: offsetY,\n  }\n}\n\nexport function getElementPixelSize(elRef: ElementRef, direction: 'horizontal' | 'vertical'): number {\n  const rect = (<HTMLElement>elRef.nativeElement).getBoundingClientRect()\n\n  return direction === 'horizontal' ? rect.width : rect.height\n}\n\nexport function getInputBoolean(v: any): boolean {\n  return typeof v === 'boolean' ? v : v === 'false' ? false : true\n}\n\nexport function getInputPositiveNumber<T>(v: any, defaultValue: T): number | T {\n  if (v === null || v === undefined) return defaultValue\n\n  v = Number(v)\n  return !isNaN(v) && v >= 0 ? v : defaultValue\n}\n\nexport function isUserSizesValid(unit: 'percent' | 'pixel', sizes: Array<number | null>): boolean {\n  // All sizes have to be not null and total should be 100\n  if (unit === 'percent') {\n    const total = sizes.reduce((total, s) => (s !== null ? total + s : total), 0)\n    return sizes.every((s) => s !== null) && total > 99.9 && total < 100.1\n  }\n\n  // A size at null is mandatory but only one.\n  if (unit === 'pixel') {\n    return sizes.filter((s) => s === null).length === 1\n  }\n}\n\nexport function getAreaMinSize(a: IArea): null | number {\n  if (a.size === null) {\n    return null\n  }\n\n  if (a.component.lockSize === true) {\n    return a.size\n  }\n\n  if (a.component.minSize === null) {\n    return null\n  }\n\n  if (a.component.minSize > a.size) {\n    return a.size\n  }\n\n  return a.component.minSize\n}\n\nexport function getAreaMaxSize(a: IArea): null | number {\n  if (a.size === null) {\n    return null\n  }\n\n  if (a.component.lockSize === true) {\n    return a.size\n  }\n\n  if (a.component.maxSize === null) {\n    return null\n  }\n\n  if (a.component.maxSize < a.size) {\n    return a.size\n  }\n\n  return a.component.maxSize\n}\n\nexport function getGutterSideAbsorptionCapacity(\n  unit: 'percent' | 'pixel',\n  sideAreas: Array<IAreaSnapshot>,\n  pixels: number,\n  allAreasSizePixel: number,\n): ISplitSideAbsorptionCapacity {\n  return sideAreas.reduce(\n    (acc, area) => {\n      const res = getAreaAbsorptionCapacity(unit, area, acc.remain, allAreasSizePixel)\n      acc.list.push(res)\n      acc.remain = res.pixelRemain\n      return acc\n    },\n    { remain: pixels, list: [] },\n  )\n}\n\nfunction getAreaAbsorptionCapacity(\n  unit: 'percent' | 'pixel',\n  areaSnapshot: IAreaSnapshot,\n  pixels: number,\n  allAreasSizePixel: number,\n): IAreaAbsorptionCapacity {\n  // No pain no gain\n  if (pixels === 0) {\n    return {\n      areaSnapshot,\n      pixelAbsorb: 0,\n      percentAfterAbsorption: areaSnapshot.sizePercentAtStart,\n      pixelRemain: 0,\n    }\n  }\n\n  // Area start at zero and need to be reduced, not possible\n  if (areaSnapshot.sizePixelAtStart === 0 && pixels < 0) {\n    return {\n      areaSnapshot,\n      pixelAbsorb: 0,\n      percentAfterAbsorption: 0,\n      pixelRemain: pixels,\n    }\n  }\n\n  if (unit === 'percent') {\n    return getAreaAbsorptionCapacityPercent(areaSnapshot, pixels, allAreasSizePixel)\n  }\n\n  if (unit === 'pixel') {\n    return getAreaAbsorptionCapacityPixel(areaSnapshot, pixels, allAreasSizePixel)\n  }\n}\n\nfunction getAreaAbsorptionCapacityPercent(\n  areaSnapshot: IAreaSnapshot,\n  pixels: number,\n  allAreasSizePixel: number,\n): IAreaAbsorptionCapacity {\n  const tempPixelSize = areaSnapshot.sizePixelAtStart + pixels\n  const tempPercentSize = (tempPixelSize / allAreasSizePixel) * 100\n\n  // ENLARGE AREA\n\n  if (pixels > 0) {\n    // If maxSize & newSize bigger than it > absorb to max and return remaining pixels\n    if (areaSnapshot.area.maxSize !== null && tempPercentSize > areaSnapshot.area.maxSize) {\n      // Use area.area.maxSize as newPercentSize and return calculate pixels remaining\n      const maxSizePixel = (areaSnapshot.area.maxSize / 100) * allAreasSizePixel\n      return {\n        areaSnapshot,\n        pixelAbsorb: maxSizePixel,\n        percentAfterAbsorption: areaSnapshot.area.maxSize,\n        pixelRemain: areaSnapshot.sizePixelAtStart + pixels - maxSizePixel,\n      }\n    }\n    return {\n      areaSnapshot,\n      pixelAbsorb: pixels,\n      percentAfterAbsorption: tempPercentSize > 100 ? 100 : tempPercentSize,\n      pixelRemain: 0,\n    }\n  }\n\n  // REDUCE AREA\n  else if (pixels < 0) {\n    // If minSize & newSize smaller than it > absorb to min and return remaining pixels\n    if (areaSnapshot.area.minSize !== null && tempPercentSize < areaSnapshot.area.minSize) {\n      // Use area.area.minSize as newPercentSize and return calculate pixels remaining\n      const minSizePixel = (areaSnapshot.area.minSize / 100) * allAreasSizePixel\n      return {\n        areaSnapshot,\n        pixelAbsorb: minSizePixel,\n        percentAfterAbsorption: areaSnapshot.area.minSize,\n        pixelRemain: areaSnapshot.sizePixelAtStart + pixels - minSizePixel,\n      }\n    }\n    // If reduced under zero > return remaining pixels\n    else if (tempPercentSize < 0) {\n      // Use 0 as newPercentSize and return calculate pixels remaining\n      return {\n        areaSnapshot,\n        pixelAbsorb: -areaSnapshot.sizePixelAtStart,\n        percentAfterAbsorption: 0,\n        pixelRemain: pixels + areaSnapshot.sizePixelAtStart,\n      }\n    }\n    return {\n      areaSnapshot,\n      pixelAbsorb: pixels,\n      percentAfterAbsorption: tempPercentSize,\n      pixelRemain: 0,\n    }\n  }\n}\n\nfunction getAreaAbsorptionCapacityPixel(\n  areaSnapshot: IAreaSnapshot,\n  pixels: number,\n  containerSizePixel: number,\n): IAreaAbsorptionCapacity {\n  const tempPixelSize = areaSnapshot.sizePixelAtStart + pixels\n\n  // ENLARGE AREA\n\n  if (pixels > 0) {\n    // If maxSize & newSize bigger than it > absorb to max and return remaining pixels\n    if (areaSnapshot.area.maxSize !== null && tempPixelSize > areaSnapshot.area.maxSize) {\n      return {\n        areaSnapshot,\n        pixelAbsorb: areaSnapshot.area.maxSize - areaSnapshot.sizePixelAtStart,\n        percentAfterAbsorption: -1,\n        pixelRemain: tempPixelSize - areaSnapshot.area.maxSize,\n      }\n    }\n    return {\n      areaSnapshot,\n      pixelAbsorb: pixels,\n      percentAfterAbsorption: -1,\n      pixelRemain: 0,\n    }\n  }\n\n  // REDUCE AREA\n  else if (pixels < 0) {\n    // If minSize & newSize smaller than it > absorb to min and return remaining pixels\n    if (areaSnapshot.area.minSize !== null && tempPixelSize < areaSnapshot.area.minSize) {\n      return {\n        areaSnapshot,\n        pixelAbsorb: areaSnapshot.area.minSize + pixels - tempPixelSize,\n        percentAfterAbsorption: -1,\n        pixelRemain: tempPixelSize - areaSnapshot.area.minSize,\n      }\n    }\n    // If reduced under zero > return remaining pixels\n    else if (tempPixelSize < 0) {\n      return {\n        areaSnapshot,\n        pixelAbsorb: -areaSnapshot.sizePixelAtStart,\n        percentAfterAbsorption: -1,\n        pixelRemain: pixels + areaSnapshot.sizePixelAtStart,\n      }\n    }\n    return {\n      areaSnapshot,\n      pixelAbsorb: pixels,\n      percentAfterAbsorption: -1,\n      pixelRemain: 0,\n    }\n  }\n}\n\nexport function updateAreaSize(unit: 'percent' | 'pixel', item: IAreaAbsorptionCapacity) {\n  if (unit === 'percent') {\n    item.areaSnapshot.area.size = item.percentAfterAbsorption\n  } else if (unit === 'pixel') {\n    // Update size except for the wildcard size area\n    if (item.areaSnapshot.area.size !== null) {\n      item.areaSnapshot.area.size = item.areaSnapshot.sizePixelAtStart + item.pixelAbsorb\n    }\n  }\n}\n","import { InjectionToken } from '@angular/core'\nimport { IDefaultOptions } from './interface'\n\nexport const ANGULAR_SPLIT_DEFAULT_OPTIONS = new InjectionToken<Partial<IDefaultOptions>>('angular-split-global-config')\n","import {\n  Component,\n  Input,\n  Output,\n  ChangeDetectionStrategy,\n  ChangeDetectorRef,\n  Renderer2,\n  AfterViewInit,\n  OnDestroy,\n  ElementRef,\n  NgZone,\n  ViewChildren,\n  QueryList,\n  EventEmitter,\n  ViewEncapsulation,\n  Inject,\n  Optional,\n} from '@angular/core'\nimport { Observable, Subscriber, Subject } from 'rxjs'\nimport { debounceTime } from 'rxjs/operators'\n\nimport {\n  IArea,\n  IPoint,\n  ISplitSnapshot,\n  IAreaSnapshot,\n  IOutputData,\n  IOutputAreaSizes,\n  IDefaultOptions,\n} from '../interface'\nimport { SplitAreaDirective } from '../directive/split-area.directive'\nimport {\n  getInputPositiveNumber,\n  getInputBoolean,\n  getAreaMinSize,\n  getAreaMaxSize,\n  getPointFromEvent,\n  getElementPixelSize,\n  getGutterSideAbsorptionCapacity,\n  isUserSizesValid,\n  pointDeltaEquals,\n  updateAreaSize,\n  getKeyboardEndpoint,\n} from '../utils'\nimport { ANGULAR_SPLIT_DEFAULT_OPTIONS } from '../angular-split-config.token'\n\n/**\n * angular-split\n *\n *\n *  PERCENT MODE ([unit]=\"'percent'\")\n *  ___________________________________________________________________________________________\n * |       A       [g1]       B       [g2]       C       [g3]       D       [g4]       E       |\n * |-------------------------------------------------------------------------------------------|\n * |       20                 30                 20                 15                 15      | <-- [size]=\"x\"\n * |               10px               10px               10px               10px               | <-- [gutterSize]=\"10\"\n * |calc(20% - 8px)    calc(30% - 12px)   calc(20% - 8px)    calc(15% - 6px)    calc(15% - 6px)| <-- CSS flex-basis property (with flex-grow&shrink at 0)\n * |     152px              228px              152px              114px              114px     | <-- el.getBoundingClientRect().width\n * |___________________________________________________________________________________________|\n *                                                                                 800px         <-- el.getBoundingClientRect().width\n *  flex-basis = calc( { area.size }% - { area.size/100 * nbGutter*gutterSize }px );\n *\n *\n *  PIXEL MODE ([unit]=\"'pixel'\")\n *  ___________________________________________________________________________________________\n * |       A       [g1]       B       [g2]       C       [g3]       D       [g4]       E       |\n * |-------------------------------------------------------------------------------------------|\n * |      100                250                 *                 150                100      | <-- [size]=\"y\"\n * |               10px               10px               10px               10px               | <-- [gutterSize]=\"10\"\n * |   0 0 100px          0 0 250px           1 1 auto          0 0 150px          0 0 100px   | <-- CSS flex property (flex-grow/flex-shrink/flex-basis)\n * |     100px              250px              200px              150px              100px     | <-- el.getBoundingClientRect().width\n * |___________________________________________________________________________________________|\n *                                                                                 800px         <-- el.getBoundingClientRect().width\n *\n */\n\n@Component({\n  selector: 'as-split',\n  exportAs: 'asSplit',\n  changeDetection: ChangeDetectionStrategy.OnPush,\n  styleUrls: [`./split.component.scss`],\n  template: ` <ng-content></ng-content>\n    <ng-template ngFor [ngForOf]=\"displayedAreas\" let-area=\"$implicit\" let-index=\"index\" let-last=\"last\">\n      <div\n        role=\"separator\"\n        tabindex=\"0\"\n        *ngIf=\"last === false\"\n        #gutterEls\n        class=\"as-split-gutter\"\n        [style.flex-basis.px]=\"gutterSize\"\n        [style.order]=\"index * 2 + 1\"\n        (keydown)=\"startKeyboardDrag($event, index * 2 + 1, index + 1)\"\n        (mousedown)=\"startMouseDrag($event, index * 2 + 1, index + 1)\"\n        (touchstart)=\"startMouseDrag($event, index * 2 + 1, index + 1)\"\n        (mouseup)=\"clickGutter($event, index + 1)\"\n        (touchend)=\"clickGutter($event, index + 1)\"\n        [attr.aria-label]=\"gutterAriaLabel\"\n        [attr.aria-orientation]=\"direction\"\n        [attr.aria-valuemin]=\"area.minSize\"\n        [attr.aria-valuemax]=\"area.maxSize\"\n        [attr.aria-valuenow]=\"area.size\"\n        [attr.aria-valuetext]=\"getAriaAreaSizeText(area.size)\"\n      >\n        <div class=\"as-split-gutter-icon\"></div>\n      </div>\n    </ng-template>`,\n  encapsulation: ViewEncapsulation.Emulated,\n})\nexport class SplitComponent implements AfterViewInit, OnDestroy {\n  @Input() set direction(v: 'horizontal' | 'vertical') {\n    this._direction = v === 'vertical' ? 'vertical' : 'horizontal'\n\n    this.renderer.addClass(this.elRef.nativeElement, `as-${this._direction}`)\n    this.renderer.removeClass(\n      this.elRef.nativeElement,\n      `as-${this._direction === 'vertical' ? 'horizontal' : 'vertical'}`,\n    )\n\n    this.build(false, false)\n  }\n\n  get direction(): 'horizontal' | 'vertical' {\n    return this._direction\n  }\n\n  @Input() set unit(v: 'percent' | 'pixel') {\n    this._unit = v === 'pixel' ? 'pixel' : 'percent'\n\n    this.renderer.addClass(this.elRef.nativeElement, `as-${this._unit}`)\n    this.renderer.removeClass(this.elRef.nativeElement, `as-${this._unit === 'pixel' ? 'percent' : 'pixel'}`)\n\n    this.build(false, true)\n  }\n\n  get unit(): 'percent' | 'pixel' {\n    return this._unit\n  }\n\n  @Input() set gutterSize(v: number | null) {\n    this._gutterSize = getInputPositiveNumber(v, 11)\n\n    this.build(false, false)\n  }\n\n  get gutterSize(): number | null {\n    return this._gutterSize\n  }\n\n  @Input() set gutterStep(v: number) {\n    this._gutterStep = getInputPositiveNumber(v, 1)\n  }\n\n  get gutterStep(): number {\n    return this._gutterStep\n  }\n\n  @Input() set restrictMove(v: boolean) {\n    this._restrictMove = getInputBoolean(v)\n  }\n\n  get restrictMove(): boolean {\n    return this._restrictMove\n  }\n\n  @Input() set useTransition(v: boolean) {\n    this._useTransition = getInputBoolean(v)\n\n    if (this._useTransition) {\n      this.renderer.addClass(this.elRef.nativeElement, 'as-transition')\n    } else {\n      this.renderer.removeClass(this.elRef.nativeElement, 'as-transition')\n    }\n  }\n\n  get useTransition(): boolean {\n    return this._useTransition\n  }\n\n  @Input() set disabled(v: boolean) {\n    this._disabled = getInputBoolean(v)\n\n    if (this._disabled) {\n      this.renderer.addClass(this.elRef.nativeElement, 'as-disabled')\n    } else {\n      this.renderer.removeClass(this.elRef.nativeElement, 'as-disabled')\n    }\n  }\n\n  get disabled(): boolean {\n    return this._disabled\n  }\n\n  @Input() set dir(v: 'ltr' | 'rtl') {\n    this._dir = v === 'rtl' ? 'rtl' : 'ltr'\n\n    this.renderer.setAttribute(this.elRef.nativeElement, 'dir', this._dir)\n  }\n\n  get dir(): 'ltr' | 'rtl' {\n    return this._dir\n  }\n\n  @Input() set gutterDblClickDuration(v: number) {\n    this._gutterDblClickDuration = getInputPositiveNumber(v, 0)\n  }\n\n  @Input() gutterClickDeltaPx = 2\n\n  @Input() gutterAriaLabel: string\n\n  get gutterDblClickDuration(): number {\n    return this._gutterDblClickDuration\n  }\n  @Output() get transitionEnd(): Observable<IOutputAreaSizes> {\n    return new Observable<IOutputAreaSizes>(\n      (subscriber: Subscriber<IOutputAreaSizes>) => (this.transitionEndSubscriber = subscriber),\n    ).pipe(debounceTime<IOutputAreaSizes>(20))\n  }\n\n  private _config: IDefaultOptions = {\n    direction: 'horizontal',\n    unit: 'percent',\n    gutterSize: 11,\n    gutterStep: 1,\n    restrictMove: false,\n    useTransition: false,\n    disabled: false,\n    dir: 'ltr',\n    gutterDblClickDuration: 0,\n  }\n\n  constructor(\n    private ngZone: NgZone,\n    private elRef: ElementRef,\n    private cdRef: ChangeDetectorRef,\n    private renderer: Renderer2,\n    @Optional() @Inject(ANGULAR_SPLIT_DEFAULT_OPTIONS) globalConfig: IDefaultOptions,\n  ) {\n    // To force adding default class, could be override by user @Input() or not\n    this.direction = this._direction\n    this._config = globalConfig ? Object.assign(this._config, globalConfig) : this._config\n    Object.keys(this._config).forEach((property) => {\n      this[property] = this._config[property]\n    })\n  }\n  private _direction: 'horizontal' | 'vertical'\n\n  private _unit: 'percent' | 'pixel'\n\n  private _gutterSize: number | null\n\n  private _gutterStep: number\n\n  private _restrictMove: boolean\n\n  private _useTransition: boolean\n\n  private _disabled: boolean\n\n  private _dir: 'ltr' | 'rtl'\n\n  private _gutterDblClickDuration: number\n\n  @Output() dragStart = new EventEmitter<IOutputData>(false)\n  @Output() dragEnd = new EventEmitter<IOutputData>(false)\n  @Output() gutterClick = new EventEmitter<IOutputData>(false)\n  @Output() gutterDblClick = new EventEmitter<IOutputData>(false)\n\n  private transitionEndSubscriber: Subscriber<IOutputAreaSizes>\n\n  private dragProgressSubject: Subject<IOutputData> = new Subject()\n  dragProgress$: Observable<IOutputData> = this.dragProgressSubject.asObservable()\n\n  private isDragging = false\n  private isWaitingClear = false\n  private isWaitingInitialMove = false\n  private dragListeners: Array<Function> = []\n  private snapshot: ISplitSnapshot | null = null\n  private startPoint: IPoint | null = null\n  private endPoint: IPoint | null = null\n\n  public readonly displayedAreas: Array<IArea> = []\n  private readonly hiddenAreas: Array<IArea> = []\n\n  @ViewChildren('gutterEls') private gutterEls: QueryList<ElementRef>\n\n  _clickTimeout: number | null = null\n\n  public ngAfterViewInit() {\n    this.ngZone.runOutsideAngular(() => {\n      // To avoid transition at first rendering\n      setTimeout(() => this.renderer.addClass(this.elRef.nativeElement, 'as-init'))\n    })\n  }\n\n  private getNbGutters(): number {\n    return this.displayedAreas.length === 0 ? 0 : this.displayedAreas.length - 1\n  }\n\n  public addArea(component: SplitAreaDirective): void {\n    const newArea: IArea = {\n      component,\n      order: 0,\n      size: 0,\n      minSize: null,\n      maxSize: null,\n      sizeBeforeCollapse: null,\n      gutterBeforeCollapse: 0,\n    }\n\n    if (component.visible === true) {\n      this.displayedAreas.push(newArea)\n\n      this.build(true, true)\n    } else {\n      this.hiddenAreas.push(newArea)\n    }\n  }\n\n  public removeArea(component: SplitAreaDirective): void {\n    if (this.displayedAreas.some((a) => a.component === component)) {\n      const area = this.displayedAreas.find((a) => a.component === component)\n      this.displayedAreas.splice(this.displayedAreas.indexOf(area), 1)\n\n      this.build(true, true)\n    } else if (this.hiddenAreas.some((a) => a.component === component)) {\n      const area = this.hiddenAreas.find((a) => a.component === component)\n      this.hiddenAreas.splice(this.hiddenAreas.indexOf(area), 1)\n    }\n  }\n\n  public updateArea(component: SplitAreaDirective, resetOrders: boolean, resetSizes: boolean): void {\n    if (component.visible === true) {\n      this.build(resetOrders, resetSizes)\n    }\n  }\n\n  public showArea(component: SplitAreaDirective): void {\n    const area = this.hiddenAreas.find((a) => a.component === component)\n    if (area === undefined) {\n      return\n    }\n\n    const areas = this.hiddenAreas.splice(this.hiddenAreas.indexOf(area), 1)\n    this.displayedAreas.push(...areas)\n\n    this.build(true, true)\n  }\n\n  public hideArea(comp: SplitAreaDirective): void {\n    const area = this.displayedAreas.find((a) => a.component === comp)\n    if (area === undefined) {\n      return\n    }\n\n    const areas = this.displayedAreas.splice(this.displayedAreas.indexOf(area), 1)\n    areas.forEach((item) => {\n      item.order = 0\n      item.size = 0\n    })\n    this.hiddenAreas.push(...areas)\n\n    this.build(true, true)\n  }\n\n  public getVisibleAreaSizes(): IOutputAreaSizes {\n    return this.displayedAreas.map((a) => (a.size === null ? '*' : a.size))\n  }\n\n  public setVisibleAreaSizes(sizes: IOutputAreaSizes): boolean {\n    if (sizes.length !== this.displayedAreas.length) {\n      return false\n    }\n\n    const formattedSizes = sizes.map((s) => getInputPositiveNumber(s, null))\n    const isValid = isUserSizesValid(this.unit, formattedSizes)\n\n    if (isValid === false) {\n      return false\n    }\n\n    // @ts-ignore\n    this.displayedAreas.forEach((area, i) => (area.component._size = formattedSizes[i]))\n\n    this.build(false, true)\n    return true\n  }\n\n  private build(resetOrders: boolean, resetSizes: boolean): void {\n    this.stopDragging()\n\n    // ¤ AREAS ORDER\n\n    if (resetOrders === true) {\n      // If user provided 'order' for each area, use it to sort them.\n      if (this.displayedAreas.every((a) => a.component.order !== null)) {\n        this.displayedAreas.sort((a, b) => <number>a.component.order - <number>b.component.order)\n      }\n\n      // Then set real order with multiples of 2, numbers between will be used by gutters.\n      this.displayedAreas.forEach((area, i) => {\n        area.order = i * 2\n        area.component.setStyleOrder(area.order)\n      })\n    }\n\n    // ¤ AREAS SIZE\n\n    if (resetSizes === true) {\n      const useUserSizes = isUserSizesValid(\n        this.unit,\n        this.displayedAreas.map((a) => a.component.size),\n      )\n\n      switch (this.unit) {\n        case 'percent': {\n          const defaultSize = 100 / this.displayedAreas.length\n\n          this.displayedAreas.forEach((area) => {\n            area.size = useUserSizes ? <number>area.component.size : defaultSize\n            area.minSize = getAreaMinSize(area)\n            area.maxSize = getAreaMaxSize(area)\n          })\n          break\n        }\n        case 'pixel': {\n          if (useUserSizes) {\n            this.displayedAreas.forEach((area) => {\n              area.size = area.component.size\n              area.minSize = getAreaMinSize(area)\n              area.maxSize = getAreaMaxSize(area)\n            })\n          } else {\n            const wildcardSizeAreas = this.displayedAreas.filter((a) => a.component.size === null)\n\n            // No wildcard area > Need to select one arbitrarily > first\n            if (wildcardSizeAreas.length === 0 && this.displayedAreas.length > 0) {\n              this.displayedAreas.forEach((area, i) => {\n                area.size = i === 0 ? null : area.component.size\n                area.minSize = i === 0 ? null : getAreaMinSize(area)\n                area.maxSize = i === 0 ? null : getAreaMaxSize(area)\n              })\n            } else if (wildcardSizeAreas.length > 1) {\n              // More than one wildcard area > Need to keep only one arbitrarily > first\n              let alreadyGotOne = false\n              this.displayedAreas.forEach((area) => {\n                if (area.component.size === null) {\n                  if (alreadyGotOne === false) {\n                    area.size = null\n                    area.minSize = null\n                    area.maxSize = null\n                    alreadyGotOne = true\n                  } else {\n                    area.size = 100\n                    area.minSize = null\n                    area.maxSize = null\n                  }\n                } else {\n                  area.size = area.component.size\n                  area.minSize = getAreaMinSize(area)\n                  area.maxSize = getAreaMaxSize(area)\n                }\n              })\n            }\n          }\n          break\n        }\n      }\n    }\n\n    this.refreshStyleSizes()\n    this.cdRef.markForCheck()\n  }\n\n  private refreshStyleSizes(): void {\n    ///////////////////////////////////////////\n    // PERCENT MODE\n    if (this.unit === 'percent') {\n      // Only one area > flex-basis 100%\n      if (this.displayedAreas.length === 1) {\n        this.displayedAreas[0].component.setStyleFlex(0, 0, `100%`, false, false)\n      } else {\n        // Multiple areas > use each percent basis\n        const sumGutterSize = this.getNbGutters() * this.gutterSize\n\n        this.displayedAreas.forEach((area) => {\n          area.component.setStyleFlex(\n            0,\n            0,\n            `calc( ${area.size}% - ${(<number>area.size / 100) * sumGutterSize}px )`,\n            area.minSize !== null && area.minSize === area.size,\n            area.maxSize !== null && area.maxSize === area.size,\n          )\n        })\n      }\n    } else if (this.unit === 'pixel') {\n      ///////////////////////////////////////////\n      // PIXEL MODE\n      this.displayedAreas.forEach((area) => {\n        // Area with wildcard size\n        if (area.size === null) {\n          if (this.displayedAreas.length === 1) {\n            area.component.setStyleFlex(1, 1, `100%`, false, false)\n          } else {\n            area.component.setStyleFlex(1, 1, `auto`, false, false)\n          }\n        } else {\n          // Area with pixel size\n          // Only one area > flex-basis 100%\n          if (this.displayedAreas.length === 1) {\n            area.component.setStyleFlex(0, 0, `100%`, false, false)\n          } else {\n            // Multiple areas > use each pixel basis\n            area.component.setStyleFlex(\n              0,\n              0,\n              `${area.size}px`,\n              area.minSize !== null && area.minSize === area.size,\n              area.maxSize !== null && area.maxSize === area.size,\n            )\n          }\n        }\n      })\n    }\n  }\n\n  public clickGutter(event: MouseEvent | TouchEvent, gutterNum: number): void {\n    const tempPoint = getPointFromEvent(event)\n\n    // Be sure mouseup/touchend happened if touch/cursor is not moved.\n    if (\n      this.startPoint &&\n      pointDeltaEquals(this.startPoint, tempPoint, this.gutterClickDeltaPx) &&\n      (!this.isDragging || this.isWaitingInitialMove)\n    ) {\n      // If timeout in progress and new click > clearTimeout & dblClickEvent\n      if (this._clickTimeout !== null) {\n        window.clearTimeout(this._clickTimeout)\n        this._clickTimeout = null\n        this.notify('dblclick', gutterNum)\n        this.stopDragging()\n      } else {\n        // Else start timeout to call clickEvent at end\n        this._clickTimeout = window.setTimeout(() => {\n          this._clickTimeout = null\n          this.notify('click', gutterNum)\n          this.stopDragging()\n        }, this.gutterDblClickDuration)\n      }\n    }\n  }\n\n  public startKeyboardDrag(event: KeyboardEvent, gutterOrder: number, gutterNum: number) {\n    if (this.disabled === true || this.isWaitingClear === true) {\n      return\n    }\n\n    const endPoint = getKeyboardEndpoint(event, this.direction)\n    if (endPoint === null) {\n      return\n    }\n    this.endPoint = endPoint\n    this.startPoint = getPointFromEvent(event)\n\n    event.preventDefault()\n    event.stopPropagation()\n\n    this.setupForDragEvent(gutterOrder, gutterNum)\n    this.startDragging()\n    this.drag()\n    this.stopDragging()\n  }\n\n  public startMouseDrag(event: MouseEvent | TouchEvent, gutterOrder: number, gutterNum: number): void {\n    event.preventDefault()\n    event.stopPropagation()\n\n    this.startPoint = getPointFromEvent(event)\n    if (this.startPoint === null || this.disabled === true || this.isWaitingClear === true) {\n      return\n    }\n\n    this.setupForDragEvent(gutterOrder, gutterNum)\n\n    this.dragListeners.push(this.renderer.listen('document', 'mouseup', this.stopDragging.bind(this)))\n    this.dragListeners.push(this.renderer.listen('document', 'touchend', this.stopDragging.bind(this)))\n    this.dragListeners.push(this.renderer.listen('document', 'touchcancel', this.stopDragging.bind(this)))\n\n    this.ngZone.runOutsideAngular(() => {\n      this.dragListeners.push(this.renderer.listen('document', 'mousemove', this.mouseDragEvent.bind(this)))\n      this.dragListeners.push(this.renderer.listen('document', 'touchmove', this.mouseDragEvent.bind(this)))\n    })\n\n    this.startDragging()\n  }\n\n  private setupForDragEvent(gutterOrder: number, gutterNum: number) {\n    this.snapshot = {\n      gutterNum,\n      lastSteppedOffset: 0,\n      allAreasSizePixel: getElementPixelSize(this.elRef, this.direction) - this.getNbGutters() * this.gutterSize,\n      allInvolvedAreasSizePercent: 100,\n      areasBeforeGutter: [],\n      areasAfterGutter: [],\n    }\n\n    this.displayedAreas.forEach((area) => {\n      const areaSnapshot: IAreaSnapshot = {\n        area,\n        sizePixelAtStart: getElementPixelSize(area.component.elRef, this.direction),\n        sizePercentAtStart: this.unit === 'percent' ? area.size : -1, // If pixel mode, anyway, will not be used.\n      }\n\n      if (area.order < gutterOrder) {\n        if (this.restrictMove === true) {\n          this.snapshot.areasBeforeGutter = [areaSnapshot]\n        } else {\n          this.snapshot.areasBeforeGutter.unshift(areaSnapshot)\n        }\n      } else if (area.order > gutterOrder) {\n        if (this.restrictMove === true) {\n          if (this.snapshot.areasAfterGutter.length === 0) {\n            this.snapshot.areasAfterGutter = [areaSnapshot]\n          }\n        } else {\n          this.snapshot.areasAfterGutter.push(areaSnapshot)\n        }\n      }\n    })\n\n    this.snapshot.allInvolvedAreasSizePercent = [\n      ...this.snapshot.areasBeforeGutter,\n      ...this.snapshot.areasAfterGutter,\n    ].reduce((t, a) => t + a.sizePercentAtStart, 0)\n\n    if (this.snapshot.areasBeforeGutter.length === 0 || this.snapshot.areasAfterGutter.length === 0) {\n      return\n    }\n  }\n\n  private startDragging() {\n    this.displayedAreas.forEach((area) => area.component.lockEvents())\n\n    this.isDragging = true\n    this.isWaitingInitialMove = true\n  }\n\n  private mouseDragEvent(event: MouseEvent | TouchEvent): void {\n    event.preventDefault()\n    event.stopPropagation()\n\n    const tempPoint = getPointFromEvent(event)\n    if (this._clickTimeout !== null && !pointDeltaEquals(this.startPoint, tempPoint, this.gutterClickDeltaPx)) {\n      window.clearTimeout(this._clickTimeout)\n      this._clickTimeout = null\n    }\n\n    if (this.isDragging === false) {\n      return\n    }\n\n    this.endPoint = getPointFromEvent(event)\n    if (this.endPoint === null) {\n      return\n    }\n\n    this.drag()\n  }\n\n  private drag() {\n    if (this.isWaitingInitialMove) {\n      if (this.startPoint.x !== this.endPoint.x || this.startPoint.y !== this.endPoint.y) {\n        this.ngZone.run(() => {\n          this.isWaitingInitialMove = false\n\n          this.renderer.addClass(this.elRef.nativeElement, 'as-dragging')\n          this.renderer.addClass(this.gutterEls.toArray()[this.snapshot.gutterNum - 1].nativeElement, 'as-dragged')\n\n          this.notify('start', this.snapshot.gutterNum)\n        })\n      } else {\n        return\n      }\n    }\n\n    // Calculate steppedOffset\n\n    let offset =\n      this.direction === 'horizontal' ? this.startPoint.x - this.endPoint.x : this.startPoint.y - this.endPoint.y\n\n    // RTL requires negative offset only in horizontal mode as in vertical\n    // RTL has no effect on drag direction.\n    if (this.dir === 'rtl' && this.direction === 'horizontal') {\n      offset = -offset\n    }\n\n    const steppedOffset = Math.round(offset / this.gutterStep) * this.gutterStep\n\n    if (steppedOffset === this.snapshot.lastSteppedOffset) {\n      return\n    }\n\n    this.snapshot.lastSteppedOffset = steppedOffset\n\n    // Need to know if each gutter side areas could reacts to steppedOffset\n\n    let areasBefore = getGutterSideAbsorptionCapacity(\n      this.unit,\n      this.snapshot.areasBeforeGutter,\n      -steppedOffset,\n      this.snapshot.allAreasSizePixel,\n    )\n    let areasAfter = getGutterSideAbsorptionCapacity(\n      this.unit,\n      this.snapshot.areasAfterGutter,\n      steppedOffset,\n      this.snapshot.allAreasSizePixel,\n    )\n\n    // Each gutter side areas can't absorb all offset\n    if (areasBefore.remain !== 0 && areasAfter.remain !== 0) {\n      if (Math.abs(areasBefore.remain) === Math.abs(areasAfter.remain)) {\n      } else if (Math.abs(areasBefore.remain) > Math.abs(areasAfter.remain)) {\n        areasAfter = getGutterSideAbsorptionCapacity(\n          this.unit,\n          this.snapshot.areasAfterGutter,\n          steppedOffset + areasBefore.remain,\n          this.snapshot.allAreasSizePixel,\n        )\n      } else {\n        areasBefore = getGutterSideAbsorptionCapacity(\n          this.unit,\n          this.snapshot.areasBeforeGutter,\n          -(steppedOffset - areasAfter.remain),\n          this.snapshot.allAreasSizePixel,\n        )\n      }\n    } else if (areasBefore.remain !== 0) {\n      // Areas before gutter can't absorbs all offset > need to recalculate sizes for areas after gutter.\n      areasAfter = getGutterSideAbsorptionCapacity(\n        this.unit,\n        this.snapshot.areasAfterGutter,\n        steppedOffset + areasBefore.remain,\n        this.snapshot.allAreasSizePixel,\n      )\n    } else if (areasAfter.remain !== 0) {\n      // Areas after gutter can't absorbs all offset > need to recalculate sizes for areas before gutter.\n      areasBefore = getGutterSideAbsorptionCapacity(\n        this.unit,\n        this.snapshot.areasBeforeGutter,\n        -(steppedOffset - areasAfter.remain),\n        this.snapshot.allAreasSizePixel,\n      )\n    }\n\n    if (this.unit === 'percent') {\n      // Hack because of browser messing up with sizes using calc(X% - Ypx) -> el.getBoundingClientRect()\n      // If not there, playing with gutters makes total going down to 99.99875% then 99.99286%, 99.98986%,..\n      const all = [...areasBefore.list, ...areasAfter.list]\n      const areaToReset = all.find(\n        (a) =>\n          a.percentAfterAbsorption !== 0 &&\n          a.percentAfterAbsorption !== a.areaSnapshot.area.minSize &&\n          a.percentAfterAbsorption !== a.areaSnapshot.area.maxSize,\n      )\n\n      if (areaToReset) {\n        areaToReset.percentAfterAbsorption =\n          this.snapshot.allInvolvedAreasSizePercent -\n          all.filter((a) => a !== areaToReset).reduce((total, a) => total + a.percentAfterAbsorption, 0)\n      }\n    }\n\n    // Now we know areas could absorb steppedOffset, time to really update sizes\n\n    areasBefore.list.forEach((item) => updateAreaSize(this.unit, item))\n    areasAfter.list.forEach((item) => updateAreaSize(this.unit, item))\n\n    this.refreshStyleSizes()\n    this.notify('progress', this.snapshot.gutterNum)\n  }\n\n  private stopDragging(event?: Event): void {\n    if (event) {\n      event.preventDefault()\n      event.stopPropagation()\n    }\n\n    if (this.isDragging === false) {\n      return\n    }\n\n    this.displayedAreas.forEach((area) => area.component.unlockEvents())\n\n    while (this.dragListeners.length > 0) {\n      const fct = this.dragListeners.pop()\n      if (fct) {\n        fct()\n      }\n    }\n\n    // Warning: Have to be before \"notify('end')\"\n    // because \"notify('end')\"\" can be linked to \"[size]='x'\" > \"build()\" > \"stopDragging()\"\n    this.isDragging = false\n\n    // If moved from starting point, notify end\n    if (this.isWaitingInitialMove === false) {\n      this.notify('end', this.snapshot.gutterNum)\n    }\n\n    this.renderer.removeClass(this.elRef.nativeElement, 'as-dragging')\n    this.renderer.removeClass(this.gutterEls.toArray()[this.snapshot.gutterNum - 1].nativeElement, 'as-dragged')\n    this.snapshot = null\n    this.isWaitingClear = true\n\n    // Needed to let (click)=\"clickGutter(...)\" event run and verify if mouse moved or not\n    this.ngZone.runOutsideAngular(() => {\n      setTimeout(() => {\n        this.startPoint = null\n        this.endPoint = null\n        this.isWaitingClear = false\n      })\n    })\n  }\n\n  public notify(type: 'start' | 'progress' | 'end' | 'click' | 'dblclick' | 'transitionEnd', gutterNum: number): void {\n    const sizes = this.getVisibleAreaSizes()\n\n    if (type === 'start') {\n      this.dragStart.emit({ gutterNum, sizes })\n    } else if (type === 'end') {\n      this.dragEnd.emit({ gutterNum, sizes })\n    } else if (type === 'click') {\n      this.gutterClick.emit({ gutterNum, sizes })\n    } else if (type === 'dblclick') {\n      this.gutterDblClick.emit({ gutterNum, sizes })\n    } else if (type === 'transitionEnd') {\n      if (this.transitionEndSubscriber) {\n        this.ngZone.run(() => this.transitionEndSubscriber.next(sizes))\n      }\n    } else if (type === 'progress') {\n      // Stay outside zone to allow users do what they want about change detection mechanism.\n      this.dragProgressSubject.next({ gutterNum, sizes })\n    }\n  }\n\n  public ngOnDestroy(): void {\n    this.stopDragging()\n  }\n\n  public collapseArea(comp: SplitAreaDirective, newSize: number, gutter: 'left' | 'right'): void {\n    const area = this.displayedAreas.find((a) => a.component === comp)\n    if (area === undefined) {\n      return\n    }\n    const whichGutter = gutter === 'right' ? 1 : -1\n    if (!area.sizeBeforeCollapse) {\n      area.sizeBeforeCollapse = area.size\n      area.gutterBeforeCollapse = whichGutter\n    }\n    area.size = newSize\n    const gtr = this.gutterEls.find((f) => f.nativeElement.style.order === `${area.order + whichGutter}`)\n    if (gtr) {\n      this.renderer.addClass(gtr.nativeElement, 'as-split-gutter-collapsed')\n    }\n    this.updateArea(comp, false, false)\n  }\n\n  public expandArea(comp: SplitAreaDirective): void {\n    const area = this.displayedAreas.find((a) => a.component === comp)\n    if (area === undefined) {\n      return\n    }\n    if (!area.sizeBeforeCollapse) {\n      return\n    }\n    area.size = area.sizeBeforeCollapse\n    area.sizeBeforeCollapse = null\n    const gtr = this.gutterEls.find((f) => f.nativeElement.style.order === `${area.order + area.gutterBeforeCollapse}`)\n    if (gtr) {\n      this.renderer.removeClass(gtr.nativeElement, 'as-split-gutter-collapsed')\n    }\n    this.updateArea(comp, false, false)\n  }\n\n  public getAriaAreaSizeText(size: number | null): string {\n    if (size === null) {\n      return null\n    }\n\n    return size.toFixed(0) + ' ' + this.unit\n  }\n}\n","import { Directive, ElementRef, Input, NgZone, OnDestroy, OnInit, Renderer2 } from '@angular/core'\nimport { Subscription } from 'rxjs'\nimport { SplitComponent } from '../component/split.component'\nimport { getInputBoolean, getInputPositiveNumber } from '../utils'\n\n@Directive({\n  selector: 'as-split-area, [as-split-area]',\n  exportAs: 'asSplitArea',\n})\nexport class SplitAreaDirective implements OnInit, OnDestroy {\n  private _order: number | null = null\n\n  @Input() set order(v: number | null) {\n    this._order = getInputPositiveNumber(v, null)\n\n    this.split.updateArea(this, true, false)\n  }\n\n  get order(): number | null {\n    return this._order\n  }\n\n  private _size: number | null = null\n\n  @Input() set size(v: number | null) {\n    this._size = getInputPositiveNumber(v, null)\n\n    this.split.updateArea(this, false, true)\n  }\n\n  get size(): number | null {\n    return this._size\n  }\n\n  private _minSize: number | null = null\n\n  @Input() set minSize(v: number | null) {\n    this._minSize = getInputPositiveNumber(v, null)\n\n    this.split.updateArea(this, false, true)\n  }\n\n  get minSize(): number | null {\n    return this._minSize\n  }\n\n  private _maxSize: number | null = null\n\n  @Input() set maxSize(v: number | null) {\n    this._maxSize = getInputPositiveNumber(v, null)\n\n    this.split.updateArea(this, false, true)\n  }\n\n  get maxSize(): number | null {\n    return this._maxSize\n  }\n\n  private _lockSize = false\n\n  @Input() set lockSize(v: boolean) {\n    this._lockSize = getInputBoolean(v)\n\n    this.split.updateArea(this, false, true)\n  }\n\n  get lockSize(): boolean {\n    return this._lockSize\n  }\n\n  private _visible = true\n\n  @Input() set visible(v: boolean) {\n    this._visible = getInputBoolean(v)\n\n    if (this._visible) {\n      this.split.showArea(this)\n      this.renderer.removeClass(this.elRef.nativeElement, 'as-hidden')\n    } else {\n      this.split.hideArea(this)\n      this.renderer.addClass(this.elRef.nativeElement, 'as-hidden')\n    }\n  }\n\n  get visible(): boolean {\n    return this._visible\n  }\n\n  private transitionListener: Function\n  private dragStartSubscription: Subscription\n  private dragEndSubscription: Subscription\n  private readonly lockListeners: Array<Function> = []\n\n  constructor(\n    private ngZone: NgZone,\n    public elRef: ElementRef,\n    private renderer: Renderer2,\n    private split: SplitComponent,\n  ) {\n    this.renderer.addClass(this.elRef.nativeElement, 'as-split-area')\n  }\n\n  public ngOnInit(): void {\n    this.split.addArea(this)\n\n    this.ngZone.runOutsideAngular(() => {\n      this.transitionListener = this.renderer.listen(\n        this.elRef.nativeElement,\n        'transitionend',\n        (event: TransitionEvent) => {\n          // Limit only flex-basis transition to trigger the event\n          if (event.propertyName === 'flex-basis') {\n            this.split.notify('transitionEnd', -1)\n          }\n        },\n      )\n    })\n\n    const iframeFixDiv = this.renderer.createElement('div')\n    this.renderer.addClass(iframeFixDiv, 'iframe-fix')\n\n    this.dragStartSubscription = this.split.dragStart.subscribe(() => {\n      this.renderer.setStyle(this.elRef.nativeElement, 'position', 'relative')\n      this.renderer.appendChild(this.elRef.nativeElement, iframeFixDiv)\n    })\n\n    this.dragEndSubscription = this.split.dragEnd.subscribe(() => {\n      this.renderer.removeStyle(this.elRef.nativeElement, 'position')\n      this.renderer.removeChild(this.elRef.nativeElement, iframeFixDiv)\n    })\n  }\n\n  public setStyleOrder(value: number): void {\n    this.renderer.setStyle(this.elRef.nativeElement, 'order', value)\n  }\n\n  public setStyleFlex(grow: number, shrink: number, basis: string, isMin: boolean, isMax: boolean): void {\n    // Need 3 separated properties to work on IE11 (https://github.com/angular/flex-layout/issues/323)\n    this.renderer.setStyle(this.elRef.nativeElement, 'flex-grow', grow)\n    this.renderer.setStyle(this.elRef.nativeElement, 'flex-shrink', shrink)\n    this.renderer.setStyle(this.elRef.nativeElement, 'flex-basis', basis)\n\n    if (isMin === true) {\n      this.renderer.addClass(this.elRef.nativeElement, 'as-min')\n    } else {\n      this.renderer.removeClass(this.elRef.nativeElement, 'as-min')\n    }\n\n    if (isMax === true) {\n      this.renderer.addClass(this.elRef.nativeElement, 'as-max')\n    } else {\n      this.renderer.removeClass(this.elRef.nativeElement, 'as-max')\n    }\n  }\n\n  public lockEvents(): void {\n    this.ngZone.runOutsideAngular(() => {\n      this.lockListeners.push(this.renderer.listen(this.elRef.nativeElement, 'selectstart', () => false))\n      this.lockListeners.push(this.renderer.listen(this.elRef.nativeElement, 'dragstart', () => false))\n    })\n  }\n\n  public unlockEvents(): void {\n    while (this.lockListeners.length > 0) {\n      const fct = this.lockListeners.pop()\n      if (fct) {\n        fct()\n      }\n    }\n  }\n\n  public ngOnDestroy(): void {\n    this.unlockEvents()\n\n    if (this.transitionListener) {\n      this.transitionListener()\n    }\n\n    this.dragStartSubscription?.unsubscribe()\n    this.dragEndSubscription?.unsubscribe()\n\n    this.split.removeArea(this)\n  }\n\n  public collapse(newSize = 0, gutter: 'left' | 'right' = 'right'): void {\n    this.split.collapseArea(this, newSize, gutter)\n  }\n\n  public expand(): void {\n    this.split.expandArea(this)\n  }\n}\n","import { NgModule, ModuleWithProviders } from '@angular/core'\nimport { CommonModule } from '@angular/common'\n\nimport { SplitComponent } from './component/split.component'\nimport { SplitAreaDirective } from './directive/split-area.directive'\n\n@NgModule({\n  imports: [CommonModule],\n  declarations: [SplitComponent, SplitAreaDirective],\n  exports: [SplitComponent, SplitAreaDirective],\n})\nexport class AngularSplitModule {\n  public static forRoot(): ModuleWithProviders<AngularSplitModule> {\n    console.warn(`AngularSplitModule.forRoot() is deprecated and will be removed in v6`)\n    return {\n      ngModule: AngularSplitModule,\n      providers: [],\n    }\n  }\n\n  public static forChild(): ModuleWithProviders<AngularSplitModule> {\n    console.warn(`AngularSplitModule.forChild() is deprecated and will be removed in v6`)\n    return {\n      ngModule: AngularSplitModule,\n      providers: [],\n    }\n  }\n}\n","/*\n * Public API Surface of angular-split\n */\n\nexport { AngularSplitModule } from './lib/module'\nexport { SplitComponent } from './lib/component/split.component'\nexport { SplitAreaDirective } from './lib/directive/split-area.directive'\nexport { ANGULAR_SPLIT_DEFAULT_OPTIONS } from './lib/angular-split-config.token'\nexport * from './lib/interface'\n","/**\n * Generated bundle index. Do not edit.\n */\n\nexport * from './public_api';\n"],"names":["Component","Router","NavigationEnd","filter","AppComponent","_class","constructor","router","events","pipe","e","subscribe","event","window","scrollTo","__decorate","selector","template","HttpClientModule","NgModule","FormsModule","BrowserModule","BrowserAnimationsModule","RouterModule","UiModule","routes","path","loadChildren","then","m","HomeModule","ChangelogModule","DocumentationModule","ExamplesModule","AppModule","declarations","imports","forRoot","bootstrap","ExampleEnum","srcUrlBase","srcUrlBaseApp","exampleRoutes","data","type","SIMPLE","label","srcUrl","SimpleSplitModule","MINMAX","MinMaxSplitModule","NESTED","NestedSplitModule","IFRAME","IframesModule","TRANSITION","SplitTransitionsModule","SYNC","SyncSplitModule","STYLE","CustomGutterStyleModule","TOGGLE","TogglingDomAndVisibilityModule","COLLAPSE","CollapseExpandModule","CLICK","GutterClickRollUnrollModule","CODE","AccessFromClassModule","GEEK","GeekDemoModule","DIR","DirRtlModule","WORKSPACE","WorkspaceLocalstorageModule","GLOBAL","GlobalOptionsModule","Input","DomSanitizer","ExampleTitleComponent","v","ex","find","sanitizer","bypassSecurityTrustHtml","url","bypassSecurityTrustResourceUrl","exampleEnum","ChangeDetectionStrategy","NavigationStart","TopbarComponent","isCollapsed","examples","transform","changeDetection","OnPush","host","class","CommonModule","AngularSplitModule","ButtonsModule","CollapseModule","BsDropdownModule","SortableModule","TooltipModule","exports","platformBrowserDynamic","bootstrapModule","catch","err","console","error","getPointFromEvent","changedTouches","undefined","length","x","clientX","y","clientY","currentTarget","gutterEl","offsetLeft","offsetTop","pointDeltaEquals","lhs","rhs","deltaPx","Math","abs","getKeyboardEndpoint","direction","key","offset","offsetX","offsetY","getElementPixelSize","elRef","rect","nativeElement","getBoundingClientRect","width","height","getInputBoolean","getInputPositiveNumber","defaultValue","Number","isNaN","isUserSizesValid","unit","sizes","total","reduce","s","every","getAreaMinSize","a","size","component","lockSize","minSize","getAreaMaxSize","maxSize","getGutterSideAbsorptionCapacity","sideAreas","pixels","allAreasSizePixel","acc","area","res","getAreaAbsorptionCapacity","remain","list","push","pixelRemain","areaSnapshot","pixelAbsorb","percentAfterAbsorption","sizePercentAtStart","sizePixelAtStart","getAreaAbsorptionCapacityPercent","getAreaAbsorptionCapacityPixel","tempPixelSize","tempPercentSize","maxSizePixel","minSizePixel","containerSizePixel","updateAreaSize","item","ANGULAR_SPLIT_DEFAULT_OPTIONS","InjectionToken","SplitComponent","_direction","renderer","addClass","removeClass","build","_unit","gutterSize","_gutterSize","gutterStep","_gutterStep","restrictMove","_restrictMove","useTransition","_useTransition","disabled","_disabled","dir","_dir","setAttribute","gutterDblClickDuration","_gutterDblClickDuration","transitionEnd","Observable","subscriber","transitionEndSubscriber","debounceTime","ngZone","cdRef","globalConfig","gutterClickDeltaPx","_config","dragStart","EventEmitter","dragEnd","gutterClick","gutterDblClick","dragProgressSubject","Subject","dragProgress$","asObservable","isDragging","isWaitingClear","isWaitingInitialMove","dragListeners","snapshot","startPoint","endPoint","displayedAreas","hiddenAreas","_clickTimeout","Object","assign","keys","forEach","property","ngAfterViewInit","runOutsideAngular","setTimeout","getNbGutters","addArea","newArea","order","sizeBeforeCollapse","gutterBeforeCollapse","visible","removeArea","some","splice","indexOf","updateArea","resetOrders","resetSizes","showArea","areas","hideArea","comp","getVisibleAreaSizes","map","setVisibleAreaSizes","formattedSizes","isValid","i","_size","stopDragging","sort","b","setStyleOrder","useUserSizes","defaultSize","wildcardSizeAreas","alreadyGotOne","refreshStyleSizes","markForCheck","setStyleFlex","sumGutterSize","clickGutter","gutterNum","tempPoint","clearTimeout","notify","startKeyboardDrag","gutterOrder","preventDefault","stopPropagation","setupForDragEvent","startDragging","drag","startMouseDrag","listen","bind","mouseDragEvent","lastSteppedOffset","allInvolvedAreasSizePercent","areasBeforeGutter","areasAfterGutter","unshift","t","lockEvents","run","gutterEls","toArray","steppedOffset","round","areasBefore","areasAfter","all","areaToReset","unlockEvents","fct","pop","emit","next","ngOnDestroy","collapseArea","newSize","gutter","whichGutter","gtr","f","style","expandArea","getAriaAreaSizeText","toFixed","ɵfac","_class_Factory","i0","NgZone","ElementRef","ChangeDetectorRef","Renderer2","ɵcmp","selectors","viewQuery","_class_Query","rf","ctx","i1","NgForOf","NgIf","styles","args","exportAs","encapsulation","ViewEncapsulation","Emulated","Optional","Inject","gutterAriaLabel","Output","ViewChildren","SplitAreaDirective","_order","split","_minSize","_maxSize","_lockSize","_visible","lockListeners","ngOnInit","transitionListener","propertyName","iframeFixDiv","createElement","dragStartSubscription","setStyle","appendChild","dragEndSubscription","removeStyle","removeChild","value","grow","shrink","basis","isMin","isMax","unsubscribe","collapse","expand","inputs","Directive","warn","ngModule","providers","forChild","_class3","ɵinj"],"sourceRoot":"webpack:///","x_google_ignoreList":[]}