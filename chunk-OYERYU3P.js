import{b as $}from"./chunk-MMDVJ5EQ.js";import{m as V,n as D,q as N,u as F,v as P}from"./chunk-QYXUGXRX.js";import"./chunk-ZLZGFJ2P.js";import{Aa as c,Ab as O,Ba as u,Fa as x,G as h,Ha as f,Ia as o,L as y,M as w,Ob as M,Q as g,R as d,S,Sa as m,Ta as z,Ua as v,da as l,na as k,oa as r,qa as a,sa as b,sb as E,tb as L,ub as W,vb as I,wb as T,za as _}from"./chunk-J6TELLLA.js";function j(t,s){if(t&1){let e=x();_(0,"button",11),f("click",function(){g(e);let i=o().$implicit,p=o().$implicit,C=o(7);return i.visible=!i.visible,d(C.refreshColumnVisibility(p))}),m(1),c()}if(t&2){let e=o().$implicit;b("active",!e.visible),l(),v(" ",e.type," ")}}function B(t,s){if(t&1&&r(0,j,2,3,"button",12),t&2){let e=s.$implicit;a("ngIf",e.type!=="doc")}}function J(t,s){if(t&1&&r(0,B,1,1,"ng-template",2),t&2){let e=s.$implicit;a("ngForOf",e.rows)}}function K(t,s){if(t&1){let e=x();_(0,"div",9),u(1,"sp-example-title",10),_(2,"p"),m(3," All areas size and visibility are saved to localStorage."),u(4,"br"),m(5," Toggle areas visibility using following buttons: "),c(),r(6,J,1,1,"ng-template",2),u(7,"br"),_(8,"button",11),f("click",function(){g(e);let i=o(6);return d(i.toggleDisabled())}),m(9),c(),u(10,"br"),_(11,"button",11),f("click",function(){g(e);let i=o(6);return d(i.resetConfig())}),m(12,"Reset localStorage"),c()()}if(t&2){let e=o(6);l(),a("type",e.exampleEnum.WORKSPACE),l(5),a("ngForOf",e.config.columns),l(2),b("active",!e.config.disabled),l(),v(" ","isDisabled: "+e.config.disabled," ")}}function U(t,s){if(t&1&&(_(0,"div",13)(1,"p"),m(2),c()()),t&2){let e=o(2).$implicit;l(2),z(e.type)}}function q(t,s){if(t&1&&(_(0,"as-split-area",4)(1,"div",6),r(2,K,13,5,"div",7)(3,U,3,1,"div",8),c()()),t&2){let e=o().$implicit;a("size",e.size),l(),a("ngSwitch",e.type),l(),a("ngSwitchCase","doc")}}function G(t,s){if(t&1&&r(0,q,4,3,"as-split-area",3),t&2){let e=s.$implicit;a("ngIf",e.visible)}}function H(t,s){if(t&1){let e=x();_(0,"as-split-area",4)(1,"as-split",5),f("dragEnd",function(i){g(e);let p=o().index,C=o(2);return d(C.onDragEnd(p,i))}),r(2,G,1,1,"ng-template",2),c()()}if(t&2){let e=o().$implicit,n=o(2);a("size",e.size),l(),a("disabled",n.config.disabled),l(),a("ngForOf",e.rows)}}function Q(t,s){if(t&1&&r(0,H,3,3,"as-split-area",3),t&2){let e=s.$implicit;a("ngIf",e.visible)}}function X(t,s){if(t&1){let e=x();_(0,"as-split",1),f("dragEnd",function(i){g(e);let p=o();return d(p.onDragEnd(-1,i))}),r(1,Q,1,1,"ng-template",2),c()}if(t&2){let e=o();a("disabled",e.config.disabled),l(),a("ngForOf",e.config.columns)}}var Y={columns:[{visible:!0,size:25,rows:[{visible:!0,size:25,type:"A"},{visible:!0,size:75,type:"B"}]},{visible:!0,size:50,rows:[{visible:!0,size:60,type:"doc"},{visible:!0,size:40,type:"C"}]},{visible:!0,size:25,rows:[{visible:!0,size:20,type:"D"},{visible:!0,size:30,type:"E"},{visible:!0,size:50,type:"F"}]}],disabled:!1},A=(()=>{class t extends ${constructor(){super(...arguments),this.localStorageName="angular-split-ws",this.config=null}ngOnInit(){localStorage.getItem(this.localStorageName)?this.config=JSON.parse(localStorage.getItem(this.localStorageName)):this.resetConfig()}resetConfig(){this.config=structuredClone(Y),localStorage.removeItem(this.localStorageName)}onDragEnd(e,n){e===-1?this.config.columns.filter(i=>i.visible===!0).forEach((i,p)=>i.size=n.sizes[p]):this.config.columns[e].rows.filter(i=>i.visible===!0).forEach((i,p)=>i.size=n.sizes[p]),this.saveLocalStorage()}toggleDisabled(){this.config.disabled=!this.config.disabled,this.saveLocalStorage()}refreshColumnVisibility(e){let n=e.rows.filter(i=>i.visible);n.forEach(i=>i.size=100/n.length),e.visible=e.rows.some(i=>i.visible===!0),this.saveLocalStorage()}saveLocalStorage(){localStorage.setItem(this.localStorageName,JSON.stringify(this.config))}static{this.\u0275fac=(()=>{let e;return function(i){return(e||(e=S(t)))(i||t)}})()}static{this.\u0275cmp=y({type:t,selectors:[["sp-ex-workspace-localstorage"]],features:[k],decls:1,vars:1,consts:[["direction","horizontal",3,"disabled","dragEnd",4,"ngIf"],["direction","horizontal",3,"dragEnd","disabled"],["ngFor","",3,"ngForOf"],[3,"size",4,"ngIf"],[3,"size"],["direction","vertical",3,"dragEnd","disabled"],[1,"bloc",3,"ngSwitch"],["class","explanations",4,"ngSwitchCase"],["class","panel",4,"ngSwitchDefault"],[1,"explanations"],[3,"type"],[1,"btn","btn-warning",3,"click"],["class","btn btn-warning",3,"active","click",4,"ngIf"],[1,"panel"]],template:function(n,i){n&1&&r(0,X,2,2,"as-split",0),n&2&&a("ngIf",i.config)},dependencies:[E,L,W,I,T,F,V,D],styles:["[_nghost-%COMP%]{display:block;width:100%;height:100%}.bloc[_ngcontent-%COMP%]{height:100%}.explanations[_ngcontent-%COMP%]{padding:15px}.panel[_ngcontent-%COMP%]{font-size:100px;font-weight:700;color:#ccc;display:flex;justify-content:center;align-items:center;height:100%;overflow:hidden}.panel[_ngcontent-%COMP%] > p[_ngcontent-%COMP%]{margin:0}button[_ngcontent-%COMP%]{margin-bottom:10px}"],changeDetection:0})}}return t})();var _e=(()=>{class t{static{this.\u0275fac=function(n){return new(n||t)}}static{this.\u0275mod=w({type:t})}static{this.\u0275inj=h({imports:[O,P,M.forChild([{path:"",component:A}]),N]})}}return t})();export{_e as WorkspaceLocalstorageModule};
